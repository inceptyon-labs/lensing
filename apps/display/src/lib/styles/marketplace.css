/* ── Marketplace Browser ─────────────────────────────────────── */

.marketplace-browser {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.plugin-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: var(--space-4);
}

.plugin-card {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  padding: var(--space-4);
  background: var(--event-horizon);
  border: 1px solid var(--edge);
  border-radius: var(--radius-md);
  text-align: left;
  cursor: pointer;
  transition:
    border-color var(--duration-fast) var(--ease-out),
    box-shadow var(--duration-fast) var(--ease-out);
}

.plugin-card:hover {
  border-color: var(--edge-bright);
  box-shadow:
    0 0 0 1px var(--edge-bright),
    0 0 20px var(--ember-trace);
}

.plugin-card-name {
  font-size: var(--text-base);
  font-weight: var(--weight-semi);
  color: var(--starlight);
}

.plugin-card-author {
  font-size: var(--text-sm);
  color: var(--dim-light);
}

.plugin-card-category {
  display: inline-block;
  margin-top: var(--space-1);
  padding: 2px var(--space-2);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--dim-light);
  background: var(--accretion);
  border-radius: var(--radius-sm);
  border: 1px solid var(--edge);
}

.mp-state {
  color: var(--dim-light);
  font-size: var(--text-sm);
  font-family: var(--font-mono);
  padding: var(--space-4);
  text-align: center;
}

/* ── Marketplace Detail View ─────────────────────────────────── */

.detail-view {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.detail-header {
  display: flex;
  align-items: center;
}

.back-btn {
  background: none;
  border: none;
  color: var(--dim-light);
  font-size: var(--text-sm);
  font-family: var(--font-mono);
  cursor: pointer;
  padding: var(--space-2) 0;
  transition: color var(--duration-fast) var(--ease-out);
}

.back-btn:hover {
  color: var(--starlight);
}

.detail-body {
  display: flex;
  gap: var(--space-5);
  background: var(--event-horizon);
  border: 1px solid var(--edge);
  border-radius: var(--radius-md);
  padding: var(--space-5);
}

.detail-media {
  flex-shrink: 0;
  width: 120px;
}

.thumbnail {
  width: 120px;
  height: 120px;
  object-fit: cover;
  border-radius: var(--radius-md);
  border: 1px solid var(--edge);
}

.thumbnail-placeholder {
  width: 120px;
  height: 120px;
  background: var(--accretion);
  border-radius: var(--radius-md);
  border: 1px solid var(--edge);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-xl);
  color: var(--ghost-light);
}

.detail-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.detail-meta {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.plugin-name {
  font-size: var(--text-lg);
  font-weight: var(--weight-semi);
  color: var(--starlight);
  margin: 0 0 var(--space-2);
  letter-spacing: var(--tracking-tight);
}

.meta-row {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.meta-label {
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--faint-light);
  font-family: var(--font-mono);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  min-width: 72px;
}

.meta-value {
  font-size: var(--text-sm);
  color: var(--dim-light);
}

.mp-badge {
  display: inline-block;
  padding: 2px var(--space-2);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--dim-light);
  background: var(--accretion);
  border-radius: var(--radius-sm);
  border: 1px solid var(--edge);
}

.connector-badge {
  display: inline-block;
  padding: 2px var(--space-2);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  font-family: var(--font-mono);
  color: var(--ember);
  background: var(--ember-trace);
  border-radius: var(--radius-sm);
  border: 1px solid hsla(28, 85%, 55%, 0.2);
}

.plugin-description {
  font-size: var(--text-base);
  color: var(--dim-light);
  line-height: var(--leading-normal);
  margin: 0;
}

.install-area {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  padding-top: var(--space-2);
}

.install-btn {
  align-self: flex-start;
  padding: var(--space-2) var(--space-5);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  font-family: var(--font-sans);
  color: var(--void);
  background: var(--ember);
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition:
    background var(--duration-fast) var(--ease-out),
    box-shadow var(--duration-fast) var(--ease-out);
}

.install-btn:hover:not(:disabled) {
  background: var(--ember-dim);
  box-shadow: 0 0 20px var(--ember-trace);
}

.install-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.install-btn--update {
  background: var(--alert-info);
  color: var(--starlight);
}

.install-btn--update:hover:not(:disabled) {
  background: hsl(210, 50%, 45%);
}

.install-btn--progress {
  background: var(--accretion);
  color: var(--dim-light);
}

.installed-badge {
  display: inline-flex;
  align-items: center;
  align-self: flex-start;
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--alert-success);
  background: hsla(160, 45%, 45%, 0.1);
  border: 1px solid hsla(160, 45%, 45%, 0.3);
  border-radius: var(--radius-sm);
}

.install-error {
  font-size: var(--text-sm);
  color: var(--alert-urgent);
  font-family: var(--font-mono);
}
