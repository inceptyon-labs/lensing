---
# lensing-fp1c
title: Build data source step with connector config
status: completed
type: task
priority: high
created_at: 2026-02-28T15:45:36Z
updated_at: 2026-02-28T19:35:19Z
parent: lensing-mb8p
---

Build the second wizard step: connector type selection and configuration.

## Acceptance Criteria

- [x] Connector type picker: JSON API, RSS Feed, Static (card-based selection)
- [x] JSON API form: URL, HTTP method dropdown, headers key-value editor, auth token field
- [x] RSS form: feed URL
- [x] Static form: key-value data editor
- [x] Refresh interval input (with sensible defaults per type)
- [x] "Test Connection" button that hits the proxy endpoint and shows sample data

---

**Size:** M
**Area:** frontend

## Completed

**Files changed:**

- apps/display/src/lib/ConnectorTypePicker.svelte (new)
- apps/display/src/lib/BuilderStep2.svelte (new)
- apps/display/src/**tests**/connector-type-picker.test.ts (new)
- apps/display/src/**tests**/builder-step2.test.ts (new)
- apps/display/src/**tests**/setup.ts (new)
- apps/display/vite.config.ts (updated)
- apps/display/package.json (updated)

**Key decisions:**

- TDD RED→GREEN→REFACTOR cycle for Svelte components
- Tested with @testing-library/svelte + jsdom
- Resolved Svelte 5 server-side build issue with resolve.conditions: ['browser']
- SC review findings fixed: added type='button', validation, accessibility

**Notes for next task:**

- ConnectorTypePicker renders 3 connector types (JSON API, RSS Feed, Static Data) with aria-selected state
- BuilderStep2 conditionally renders type-specific forms with refresh interval defaults
- All 20 tests passing, verified with fresh build+test runs
- Known technical debt: aria-selected ARIA pattern needs refactor when test design is updated

---

_Auto-generated by PASIV_
