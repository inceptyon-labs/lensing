---
# lensing-8orl
title: Build metadata step form
status: in-progress
type: task
priority: normal
created_at: 2026-02-28T15:45:33Z
updated_at: 2026-02-28T22:43:16Z
parent: lensing-mb8p
---

Build the first wizard step: plugin metadata entry (name, description, category, icon).

## Acceptance Criteria

- [x] Text input for plugin name (required, validated for uniqueness against local plugins)
- [x] Textarea for description (required)
- [x] Category dropdown (finance, weather, news, sports, media, home, utility, other)
- [x] Icon picker (curated set of icons appropriate for display widgets)
- [x] Auto-generates plugin ID from name (slugified, e.g. "My Widget" â†’ "my-widget")
- [x] Validation: name required, ID unique

---

**Size:** S
**Area:** frontend

## Completed

**Files changed:**
- apps/display/src/lib/BuilderStep1.svelte (new)
- apps/display/src/__tests__/builder-step1.test.ts (new)
- .beans/lensing-8orl--build-metadata-step-form.md (updated)

**Key decisions:**
- Explicit on:input + on:change handlers (not bind:value) for text inputs/textareas to work with both fireEvent.input and fireEvent.change in tests
- bind:value={pluginId} on disabled ID input ensures .value property updates reactively (not just attribute)
- isValid checks pluginId \!== '' (not name.trim() \!== '') to guard against symbol-only names that slug to empty string
- on:submit|preventDefault added for defensive form submit guard

**Notes for next task:**
- BuilderStep1 accepts: icons[], onNext(metadata), onSelect(metadata) props
- Metadata type: { name, description, category, icon, id }
- All 25 tests passing, verified with build + lint + typecheck
- Known pattern: use on:input + on:change dual handlers for text inputs when both fireEvent types needed in tests

---
*Auto-generated by PASIV*
